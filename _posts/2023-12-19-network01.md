---
title : 네트워크1 - google.com
date : 2023-12-19 19:37:00 +09:00
categories : [개발, 네트워크]
tags : [network] #소문자만 가능
---


<br>

## 웹브라우저에 www.google.com 을 치면 무슨 일이 일어나는가?
---
<br>


구글 서버의 80포트로 htttp req메시지를 보내는것.
해당 요청을 인터넷을 통해 구글에 요청하기위해 패킷을 만들어야함.

ㅁ응용계층: http, dns, smtp 등 
=> HTTP 요청


ㅁ전송계층
TCP로 연결
- SP 시작포트번호: 내컴퓨터 포트번호
- DP 목적지포트번호: www.google.com 은 80포트로 알고있음.

<br>


ㅁ인터넷계층
- SA 시작아이피주소: 내 시작주소는 당연히 알고있음
- DA 목적지아이피주소: 도메인정보만 알고있음. ->  DNS프로토콜을 통해 알아낼수있음.
- 브라우저는 OS에게 www.google.com에 대한 IP주소를 알고 싶다고 요청함. -> OS에서 DNS서버로 요청을 보내게 된다.
- DNS서버 주소는 이미 OS에 구현이 되어있음.
- DNS도 도메민이 담긴 쿼리를 보내고 도메인서버가 IP주소를 res받음.
- DNS는 UDP 통신을 사용함. 

<br>

ㅁ네트워크액세스계층
- MAC주소를 알아야함.
- 물리적으로 연결된 우리집 공유기의 MAC주소가 필요함
- 네트워크 연결이 가능한 통로를 게이트웨이라함. (netstat 확인가능)
- ARP 를 통해 IP 주소를 MAC주소로 변환

<br>
ㅁ데이터를 전송하기 전에 연결을 위한 3way-hand-shaking이 필요함.
<br>
ㅁ연결해제는 4way-hand-shaking 이 필요
연결해제를 할 때 바로 해제하는것이 아니라 
약간의 시간을 두고 해제함(늦게 도착하는 패킷이 있기때문)



<br><br><br>

-출처- (우아한테크-수리님)
https://www.youtube.com/watch?v=BEK354TRgZ8&t=100s